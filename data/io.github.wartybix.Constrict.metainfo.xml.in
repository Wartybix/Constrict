<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2025 Wartybix -->
<component type="desktop-application">
  <id>@APPLICATION_ID@</id>
  <metadata_license>CC0-1.0</metadata_license>
  <project_license>GPL-3.0-or-later</project_license>

  <name>Constrict</name>
  <summary>Compress videos to target sizes</summary>
  <description>
    <p>Constrict compresses your videos to your chosen file size — useful for uploading to services with specific file size limits. 
    No more relying on online services for video compression, or the manual trial-and-error of re-encoding at various bitrates yourself.</p>
    <p>Features include:</p>
    <ul>
      <li>An intuitive, easy to use interface.</li>
      <li>Automatic calculation of average bitrate (ABR), resolution, framerate, and audio quality each video is re-encoded 
      with to meet the target file size.</li>
      <li>Bulk compression of multiple videos to one output directory.</li>
      <li>Customization of framerate limits, to ensure a clearer or smoother image.</li>
      <li>A choice of codecs to encode output files with, including H.264, HEVC, AV1, and VP9.</li>
    </ul>
    <p>The app attempts to retain as much audiovisual quality as possible for the file size given. 
    However, extremely steep reductions in file size can cause significant loss of quality in the output file, 
    and sometimes compression may not be possible at all. All processing is done locally — and as such, 
    compression speeds are only as fast as your hardware allows.</p>
  </description>

  <developer id="io.github.wartybix">
    <name translate="no">Wartybix</name>
  </developer>

  <url type="homepage">https://apps.gnome.org/Constrict</url>
  <url type="vcs-browser">https://github.com/Wartybix/Constrict</url>
  <url type="bugtracker">https://github.com/Wartybix/Constrict/issues</url>
  <url type="translate">https://github.com/Wartybix/Constrict/po</url>
  <url type="donation">https://ko-fi.com/wartybix/</url>
  <url type="contribute">https://welcome.gnome.org/app/Constrict/</url>
  <!-- TODO: don't forget to add l10n module here once added -->
  
  <supports>
    <control>pointing</control>
    <control>keyboard</control>
    <control>touch</control>
  </supports>

  <requires>
    <display_length compare="ge">360</display_length>
  </requires>

  <translation type="gettext">constrict</translation>
  <launchable type="desktop-id">@APPLICATION_ID@.desktop</launchable>
  <content_rating type="oars-1.1" />

  <branding>
    <color type="primary" scheme_preference="light">#99c1f1</color>
    <color type="primary" scheme_preference="dark">#613583</color>
  </branding>

  <screenshots>
    <screenshot type="default">
      <image>https://github.com/Wartybix/Constrict/blob/b45242485e8dfe2cdea1d4745a9680f742bc2d0a/screenshots/queued.png?raw=true</image>
      <caption>Source videos queued for compression</caption>
    </screenshot>
    <screenshot>
      <image>https://github.com/Wartybix/Constrict/blob/b45242485e8dfe2cdea1d4745a9680f742bc2d0a/screenshots/compressing.png?raw=true</image>
      <caption>The application mid-compression</caption>
    </screenshot>
    <screenshot>
      <image>https://github.com/Wartybix/Constrict/blob/b45242485e8dfe2cdea1d4745a9680f742bc2d0a/screenshots/queued_mobile.png?raw=true</image>
      <caption>A mobile friendly UI</caption>
    </screenshot>
    <screenshot>
      <image>https://github.com/Wartybix/Constrict/blob/b45242485e8dfe2cdea1d4745a9680f742bc2d0a/screenshots/settings_mobile.png?raw=true</image>
      <caption>Compression settings in the mobile friendly UI</caption>
    </screenshot>
  </screenshots>

  <releases>
    <release version="25.12.1" date="2025-12-27">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.12.1</url>
      <description translate="no">
        <p>A few quality of life improvements in this one:</p>
        <ul>
          <li>Added French translation.</li>
          <li>Now shows a progress bar when importing many videos, improving responsiveness.</li>
          <li>Allowed folders of videos to be recursively imported via drag-and-drop or using your file manager's ‘Open With’ dialog.</li>
          <li>Reworded some toasts for clearer readability, among other small UI tweaks.</li>
          <li>Updated existing translations.</li>
        </ul>
      </description>
    </release>
    <release version="25.12" date="2025-12-04">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.12</url>
      <description translate="no">
        <p>UI adjustments, bug fixes, and more translations.</p>
        <ul>
          <li>Added Spanish translation.</li>
          <li>Now using Glycin to load video thumbnails in their own sandboxes before displaying them, improving security.</li>
          <li>Hopefully fixed an application crash that sometimes occurs after compression completes. 
          I’m not certain though, as the problem is very inconsistent to reproduce. We will have to see…</li>
          <li>Fixed an application crash when attempting to import a file that doesn't exist.</li>
          <li>Fixed strange radio button focus highlights.</li>
          <li>Reduced the width of some popover messages.</li>
          <li>Moved text from popovers to section descriptions in the preferences dialog. </li>
          <li>Moved primary menu to the sidebar, for better consistency with the wider GNOME ecosystem.</li>
          <li>Fixed appearance of the ‘Cannot Export’ banner.</li>
        </ul>
      </description>
    </release>
    <release version="25.10" date="2025-10-29">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.10</url>
      <description translate="no">
        <p>Some new features and UI improvements:</p>
        <ul>
          <li>Update to GNOME 49 runtime.</li>
          <li>Updated the UI to use a split view sidebar layout, in line with other GNOME apps.</li>
          <li>Introduced the ability to set a target size above or equal to the original file target size without 
          the app refusing the export. In this case, the app will just transcode the video while attempting to retain quality 
          at the original file size. This is by no means “lossless” though.</li>
          <li>Added Persian translation.</li>
          <li>Fixed videos with unconventional resolutions having their resolutions reduced unnecessarily.</li>
          <li>Fixed a crash when the framerate of a video source couldn't be determined.</li>
          <li>Will now display a toast when attempting to import unsupported files either through drag-and-drop or the ‘Open With…’ dialog.</li>
          <li>Added a drag-and-drop overlay to match that of Loupe.</li>
          <li>Added an information popover to the ‘Hardware Acceleration’ section of the preferences, to better clarify cases 
          where it won’t be used despite being enabled.</li>
        </ul>
      </description>
    </release>
    <release version="25.8.1" date="2025-08-22">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.8.1</url>
      <description translate="no">
        <p>Some quality of life improvements and fixes in this release:</p>
        <ul>
          <li>Improved screen reader support when opening popovers in the app.</li>
          <li>Added support for GIFs as video sources.</li>
          <li>Fixed some instances where compression progress would sometimes 'jump back' or go over 100 %.</li>
          <li>Added German translation.</li>
          <li>Fixed an issue where the wrong resolution would be applied to portrait videos in subsequent attempts 
          after going under target, potentially causing numerous attempt failures.</li>
        </ul>
      </description>
    </release>
    <release version="25.8" date="2025-08-13">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.8</url>
      <description translate="no">
        <p>Lots of new features and improvements in this one:</p>
        <ul>
          <li>Added hardware acceleration for significantly faster compression speeds. Only works if your GPU 
          supports VA-API encoding for your chosen video codec, otherwise it'll fall back to regular software encoding. 
          'Extra Quality' mode will still use software encoding regardless.</li>
          <li>Added new app icon from the GNOME Design Team.</li>
          <li>Compressed videos now keep all their subtitle streams/languages, if the subtitles from video sources use 
          compatible, text-only codecs.</li>
          <li>Fixed an issue where some trimmed video sources had much longer durations when compressed.</li>
          <li>Added Turkish translation.</li>
          <li>Updated existing translations.</li>
        </ul>
      </description>
    </release>
    <release version="25.7.3" date="2025-07-24">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.7.3</url>
      <description translate="no">
        <p>A number of initial quality of life improvements and bug fixes in this release:</p>
        <ul>
          <li>Corrected some SI units, such as 'MB' to 'MiB', and 'Kbps' to 'kbps'.</li>
          <li>Added Italian and Russian translations.</li>
          <li>Fixed unresponsiveness when clicking on an old notification from the app, or when attempting to open 
          the app while it's already running.</li>
          <li>The app should generally require fewer attempts to compress videos now, and should no longer get caught 
          up in endless loops going under/over target for some videos. Increased default tolerance to 25%.</li>
          <li>Fixed some instances of portrait videos being compressed to landscape.</li>
          <li>Fixed the app detecting the wrong frame rate from some source videos, and causing a crash.</li>
        </ul>
      </description>
    </release>
    <release version="25.7.2" date="2025-07-15">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.7.2</url>
      <description translate="no">
        <p>Fixed a crash caused by a video being compressed significantly below target.</p>
      </description>
    </release>
    <release version="25.7.1" date="2025-07-15">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.7.1</url>
      <description translate="no">
        <p>Shortened the Metainfo and desktop file summary from 'Compress videos to target file sizes' to 'Compress videos to target sizes'.</p>
      </description>
    </release>
    <release version="25.7" date="2025-07-15">
      <url type="details">https://github.com/Wartybix/Constrict/releases/tag/25.7</url>
      <description translate="no">
        <p>Initial release.</p>
      </description>
    </release>
  </releases>

</component>
